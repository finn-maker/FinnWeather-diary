# 🌤️ 天气日记本

一个美观且功能丰富的在线日记应用，能够根据当地天气自动改变界面主题和样式。

## ✨ 主要功能

### 🎨 动态天气主题
- **自动获取当地天气**：使用地理位置API获取用户当前位置
- **实时天气信息**：显示温度、天气状况、位置信息
- **动态主题切换**：根据天气条件自动更换背景颜色和样式
  - ☀️ **晴天主题**：温暖的橙黄色调
  - ☁️ **阴天主题**：清冷的灰蓝色调  
  - 🌧️ **雨天主题**：清新的蓝色调 + 雨滴动画效果
  - ❄️ **雪天主题**：纯净的白灰色调 + 雪花动画效果
  - 🌙 **晴夜主题**：神秘的紫色调

### 📝 智能日记功能
- **富文本记录**：支持标题和正文的分离编写
- **心情记录**：6种表情符号选择（😊😢🤩😌😤😴）
- **自动草稿保存**：输入时自动保存，防止意外丢失
- **天气关联**：每条日记自动记录当时的天气信息
- **键盘快捷键**：
  - `Ctrl + S`：快速保存日记
  - `Ctrl + R`：刷新天气信息

### 📚 历史记录管理
- **时间排序**：按时间倒序显示所有日记
- **天气标签**：显示每条日记记录时的天气状况
- **心情标识**：显示记录时选择的心情
- **本地存储**：所有数据存储在浏览器本地，隐私安全

### 🎨 精美设计
- **现代化UI**：使用毛玻璃效果和渐变背景
- **响应式设计**：适配手机、平板、电脑等各种设备
- **流畅动画**：天气图标浮动、按钮交互动画等
- **中文字体优化**：使用马善政和思源黑体优化中文显示

## 🚀 快速开始

### 1. 直接使用
- 在浏览器中打开 `index.html` 文件即可使用
- 首次使用时需要允许浏览器获取您的地理位置以获取天气信息

### 2. 本地部署
```bash
# 克隆项目
git clone <repository-url>

# 进入项目目录
cd weather-diary

# 使用任意HTTP服务器启动
# 方式1：使用Python
python -m http.server 8000

# 方式2：使用Node.js (需要安装http-server)
npx http-server

# 方式3：使用PHP
php -S localhost:8000

# 然后在浏览器中访问 http://localhost:8000
```

## 🔧 技术栈

- **前端**：HTML5, CSS3, JavaScript (ES6+)
- **样式**：CSS Grid, Flexbox, CSS变量, 动画效果
- **字体**：Google Fonts (马善政, 思源黑体)
- **天气API**：wttr.in (免费天气服务)
- **存储**：localStorage (浏览器本地存储)

## 🌐 天气数据来源

本应用使用以下方式获取天气数据：

1. **主要数据源**：[wttr.in](https://wttr.in) - 免费的天气服务API
2. **备用方案**：如果无法获取实时天气，会使用预设的模拟天气数据
3. **地理位置**：使用浏览器的 Geolocation API 获取用户位置

### 支持的天气类型
- ☀️ 晴天 (Sunny)
- 🌙 晴夜 (Clear) 
- ⛅ 多云 (Partly cloudy)
- ☁️ 阴天 (Cloudy/Overcast)
- 🌧️ 小雨/中雨 (Light/Moderate rain)
- ⛈️ 大雨 (Heavy rain)
- 🌨️ 小雪 (Light snow)
- ❄️ 大雪 (Heavy snow)

## 📱 浏览器兼容性

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 12+
- ✅ Edge 79+
- ⚠️ IE 不支持 (使用了ES6+特性)

## 🔒 隐私说明

- **地理位置**：仅用于获取天气信息，不会被存储或上传
- **日记内容**：完全存储在您的浏览器本地，不会上传到任何服务器
- **天气数据**：通过第三方API获取，遵循相关隐私政策

## 🎯 使用技巧

1. **首次使用**：建议先允许浏览器获取位置信息以体验完整功能
2. **天气主题**：可以点击刷新按钮手动更新天气信息
3. **心情记录**：选择心情后记得保存，可以在历史记录中回顾
4. **草稿保存**：输入的内容会自动保存草稿，刷新页面不会丢失
5. **快捷键**：熟练使用 Ctrl+S 和 Ctrl+R 可以提高效率

## 🐛 问题排查

### 无法获取天气信息
1. 检查浏览器是否允许获取地理位置
2. 确保网络连接正常
3. 尝试点击刷新天气按钮
4. 如果仍无法获取，应用会自动使用模拟数据

### 日记无法保存
1. 检查浏览器是否支持 localStorage
2. 确认浏览器存储空间是否充足
3. 检查是否在隐身模式下使用

### 样式显示异常
1. 确保网络连接正常（需要加载在线字体）
2. 尝试刷新页面
3. 检查浏览器版本是否支持CSS Grid和Flexbox

## 📄 开源协议

本项目采用 MIT 协议开源，欢迎自由使用和修改。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

---

**开始记录你的天气心情日记吧！** 🌈✍️
