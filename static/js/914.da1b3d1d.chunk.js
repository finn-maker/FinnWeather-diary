"use strict";(self.webpackChunkweather_diary_react=self.webpackChunkweather_diary_react||[]).push([[914],{1914:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var r=n(5043),a=n(6446),o=n(6240),p=n(5865),i=n(4622),s=n(8911),x=n(3845),l=n(1906),d=n(794),C=n(547),F=n(1228),c=n(4918),u=n(8693),h=n(6892),g=n(4585),m=n(579);const f=t=>{let{children:e}=t;return(0,m.jsx)(a.A,{sx:{position:"relative",background:"\n          url('/default.jpg') no-repeat,\n          linear-gradient(180deg, #CCFFCC 0%, #CCFFCC 100%)\n        ",backgroundSize:"contain, 100% 100%",backgroundPosition:"center, 0 0",border:"2px solid #8B4513",borderRadius:"8px",padding:"20px",minHeight:"500px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:(0,m.jsx)(a.A,{sx:{position:"relative",background:"#FFFFCC",borderRadius:"4px",padding:"16px",minHeight:"460px","&::before":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:"\n              linear-gradient(180deg, \n                transparent 0px, transparent 20px, #FFCC99 20px, #FFCC99 21px, transparent 21px, transparent 40px, #FFCC99 40px, #FFCC99 41px, transparent 41px, transparent 60px, #FFCC99 60px, #FFCC99 61px, transparent 61px, transparent 80px, #FFCC99 80px, #FFCC99 81px, transparent 81px, transparent 100px, #FFCC99 100px, #FFCC99 101px, transparent 101px, transparent 120px, #FFCC99 120px, #FFCC99 121px, transparent 121px, transparent 140px, #FFCC99 140px, #FFCC99 141px, transparent 141px, transparent 160px, #FFCC99 160px, #FFCC99 161px, transparent 161px, transparent 180px, #FFCC99 180px, #FFCC99 181px, transparent 181px, transparent 200px, #FFCC99 200px, #FFCC99 201px, transparent 201px, transparent 220px, #FFCC99 220px, #FFCC99 221px, transparent 221px, transparent 240px, #FFCC99 240px, #FFCC99 241px, transparent 241px, transparent 260px, #FFCC99 260px, #FFCC99 261px, transparent 261px, transparent 280px, #FFCC99 280px, #FFCC99 281px, transparent 281px, transparent 300px, #FFCC99 300px, #FFCC99 301px, transparent 301px, transparent 320px, #FFCC99 320px, #FFCC99 321px, transparent 321px, transparent 340px, #FFCC99 340px, #FFCC99 341px, transparent 341px, transparent 360px, #FFCC99 360px, #FFCC99 361px, transparent 361px, transparent 380px, #FFCC99 380px, #FFCC99 381px, transparent 381px, transparent 400px, #FFCC99 400px, #FFCC99 401px, transparent 401px, transparent 420px, #FFCC99 420px, #FFCC99 421px, transparent 421px, transparent 440px, #FFCC99 440px, #FFCC99 441px, transparent 441px)\n            ",backgroundSize:"100% 20px",pointerEvents:"none",zIndex:0}},children:(0,m.jsx)(a.A,{sx:{position:"relative",zIndex:1},children:e})})})},b=t=>{let{weather:e,onSave:n}=t;const[b,v]=(0,r.useState)(""),[y,S]=(0,r.useState)(""),[j,A]=(0,r.useState)(null),[B,k]=(0,r.useState)(!1);(0,o.A)();(0,r.useEffect)(()=>{const t=setTimeout(()=>{const t={title:b,content:y,mood:j};localStorage.setItem("diary_draft",JSON.stringify(t))},1e3);return()=>clearTimeout(t)},[b,y,j]),(0,r.useEffect)(()=>{(()=>{const t=localStorage.getItem("diary_draft");if(t)try{const{title:e,content:n,mood:r}=JSON.parse(t);v(e||""),S(n||""),A(r||null)}catch(e){console.error("\u52a0\u8f7d\u8349\u7a3f\u5931\u8d25:",e)}})()},[]);const w=b.trim()&&y.trim()&&j&&e;return(0,m.jsx)(f,{children:(0,m.jsxs)(F.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,m.jsx)(p.A,{variant:"h5",gutterBottom:!0,className:"gradient-title",sx:{fontFamily:'"Ma Shan Zheng", cursive',color:"#8B4513",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.1)",mb:2},children:"\ud83d\udcdd \u8bb0\u5f55\u4eca\u5929"}),(0,m.jsx)(p.A,{variant:"body2",sx:{color:"#8B4513",fontWeight:500,mb:3,fontFamily:'"Noto Sans SC", sans-serif'},children:(0,g.$d)()}),(0,m.jsxs)(a.A,{sx:{mb:3,position:"relative"},children:[(0,m.jsx)(p.A,{variant:"body2",sx:{color:"#8B4513",fontWeight:600,mb:1,fontFamily:'"Noto Sans SC", sans-serif'},children:"\u4eca\u5929\u7684\u6807\u9898\uff1a"}),(0,m.jsx)(i.A,{fullWidth:!0,value:b,onChange:t=>v(t.target.value),placeholder:"\u7ed9\u4eca\u5929\u8d77\u4e2a\u6807\u9898\u5427...",variant:"standard",sx:{"& .MuiInput-root":{fontSize:"1.1rem",fontFamily:'"Ma Shan Zheng", cursive',color:"#2F2F2F","&::before":{borderBottom:"none"},"&::after":{borderBottom:"none"},"&:hover::before":{borderBottom:"none"}},"& .MuiInput-input":{padding:"8px 0",lineHeight:"20px",background:"transparent","&::placeholder":{color:"#8B4513",opacity:.6,fontFamily:'"Noto Sans SC", sans-serif'}}}})]}),(0,m.jsxs)(a.A,{sx:{mb:3,position:"relative"},children:[(0,m.jsx)(p.A,{variant:"body2",sx:{color:"#8B4513",fontWeight:600,mb:1,fontFamily:'"Noto Sans SC", sans-serif'},children:"\u8bb0\u5f55\u4eca\u5929\uff1a"}),(0,m.jsx)(i.A,{fullWidth:!0,value:y,onChange:t=>S(t.target.value),placeholder:"\u4eca\u5929\u53d1\u751f\u4e86\u4ec0\u4e48\u6709\u8da3\u7684\u4e8b\u60c5\uff1f\u5fc3\u60c5\u5982\u4f55\uff1f\u548c\u5929\u6c14\u6709\u5173\u7cfb\u5417\uff1f",variant:"standard",multiline:!0,rows:8,sx:{"& .MuiInput-root":{fontSize:"1rem",fontFamily:'"Noto Sans SC", sans-serif',color:"#2F2F2F","&::before":{borderBottom:"none"},"&::after":{borderBottom:"none"},"&:hover::before":{borderBottom:"none"}},"& .MuiInput-input":{padding:"8px 0",lineHeight:"20px",background:"transparent","&::placeholder":{color:"#8B4513",opacity:.6,fontFamily:'"Noto Sans SC", sans-serif'}}}})]}),(0,m.jsxs)(a.A,{mb:3,children:[(0,m.jsxs)(p.A,{variant:"body2",sx:{color:"#8B4513",fontWeight:600,mb:1,fontFamily:'"Noto Sans SC", sans-serif',display:"flex",alignItems:"center",gap:1},children:[(0,m.jsx)(c.A,{size:16,color:"#8B4513"}),"\u4eca\u5929\u5fc3\u60c5\uff1a"]}),(0,m.jsx)(s.A,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:h.N.map(t=>(0,m.jsx)(F.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,m.jsx)(x.A,{label:`${t.emoji} ${t.label}`,onClick:()=>(t=>{A(t)})(t),variant:(null===j||void 0===j?void 0:j.type)===t.type?"filled":"outlined",color:(null===j||void 0===j?void 0:j.type)===t.type?"primary":"default","data-mood":t.type,sx:{cursor:"pointer",fontSize:"0.9rem",background:(null===j||void 0===j?void 0:j.type)===t.type?"#8B4513":"rgba(139, 69, 19, 0.1)",color:(null===j||void 0===j?void 0:j.type)===t.type?"white":"#8B4513",borderColor:"#8B4513","&:hover":{background:(null===j||void 0===j?void 0:j.type)===t.type?"#8B4513":"rgba(139, 69, 19, 0.2)"}}})},t.type))})]}),(0,m.jsx)(F.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,m.jsx)(l.A,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{if(!b.trim()||!y.trim()||!j||!e)return;const t={title:b.trim(),content:y.trim(),mood:{emoji:j.emoji,type:j.type},weather:e};n(t),v(""),S(""),A(null),localStorage.removeItem("diary_draft"),k(!0)},disabled:!w,startIcon:(0,m.jsx)(u.A,{}),sx:{py:1.5,fontSize:"1.1rem",fontWeight:"bold",background:w?"linear-gradient(45deg, #8B4513 30%, #A0522D 90%)":"#D3D3D3",color:"white","&:hover":{background:w?"linear-gradient(45deg, #A0522D 30%, #8B4513 90%)":"#D3D3D3"}},children:"\u4fdd\u5b58\u4eca\u5929\u7684\u65e5\u8bb0"})}),(0,m.jsx)(d.A,{open:B,autoHideDuration:3e3,onClose:()=>k(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,m.jsx)(C.A,{onClose:()=>k(!1),severity:"success",sx:{width:"100%"},children:"\u65e5\u8bb0\u4fdd\u5b58\u6210\u529f\uff01 \u2728"})})]})})}}}]);
//# sourceMappingURL=914.da1b3d1d.chunk.js.map